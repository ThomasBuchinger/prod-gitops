
machine:
  network:
    hostname: prod.buc.sh
    interfaces:
    - interface: eth0
      addresses:
      - "10.0.0.0/24"
      routes:
      - network: "0.0.0.0/0"
        gateway: "10.0.0.1"
    nameservers:
    - 10.0.0.16
    # - 10.0.0.1
  install:
    disk: /dev/vda

cluster:
  apiServer:
    extraArgs:
      oidc-issuer-url: https://vault.buc.sh/v1/identity/oidc/provider/global
      oidc-client-id: UnYkRDMRfKg5A6IZkicksKvS7H7CPIP3
      # oidc-username-claim=:
      # oidc-groups-claim:
  # extraManifests:
  # - https://raw.githubusercontent.com/ThomasBuchinger/prod-gitops/talos/argocd-install/flux-system.yaml
  # - https://raw.githubusercontent.com/ThomasBuchinger/prod-gitops/talos/argocd-install/voodoo-gitops.yaml
  inlineManifests:
  - name: eso-secret-id
    contents:  ""
  - name: infra-argocd
    contents: ""
  - name: infra-ingress
    contents: ""
  - name: infra-auto-untaint
    contents: ""
